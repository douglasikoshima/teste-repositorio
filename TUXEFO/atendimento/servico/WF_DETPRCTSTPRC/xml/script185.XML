

#import WFAtdTeste:AddAtendimentoTeste;
#import WFAtdTeste:AddTesteResposta;

int atd;
int usr;
int idT;
int idf;
int ite;
char cobs[500];
DOMNODE dom;

if(!XML:idAtendimento)
	throw("00E9999","Invalid XML - cannot find \"idAtendimento\" tag");
fi;

atd=XML:idAtendimento;
usr=GetHdrData("user");
cobs=XML:dsObservacao;

idT=WFAtdTeste.AddAtendimentoTeste(atd,usr,cobs);

while(dom=XML:AtendimentoWorkflowTesteVO)

	cobs=dom:dsResposta;
	atd=dom:idTeste;
	idf=WFAtdTeste.AddTesteResposta(cobs,atd,idT,usr);
	ite++;

loop;

//Retorna processamento;                                                                                                       
cobs = "<WFAcaoRetornoVO xmlns=\"workflow.fo.vivo.com.br/vo\">\n";                                                              
cobs += "<acaoExecucao>S</acaoExecucao>\n";                                                                                     
cobs += "<mensagem>Testes inclusos com Sucesso!</mensagem>\n";                                                                        
cobs += "</WFAcaoRetornoVO>\n";

return cobs;

				
EXEC SQL INCLUDE ORACA;

#include "../include/classLogAcesso.h"

CLogAcesso::CLogAcesso(char *pUser){
    memset(sUsuario, 0x00, sizeof(sUsuario));
    strcpy(sUsuario, pUser);
}

int CLogAcesso::RegistrarAcao(char *pStm)
{
    try{
    EXEC ORACLE OPTION (ORACA=YES); /* enable oraca, or proce ORACA=YES */

    oraca.oradbgf  = 1;      /* enable debug operations */ 
    oraca.oracchf  = 1;      /* gather cursor cache statistics */ 
    oraca.orastxtf = 3;      /* always save the SQL statement */ 

    printf("Last SQL statement: %.*s\n", oraca.orastxt.orastxtl, oraca.orastxt.orastxtc);
    }
    catch(...){}


    return 1;
}